webpackJsonp([1],{"/k1P":function(t,e,a){"use strict";a.d(e,"b",function(){return v}),a.d(e,"a",function(){return p});var i,n=a("Xxa5"),s=a.n(n),o=a("exGp"),r=a.n(o),c=a("mtWM"),l=a.n(c),v=(i=r()(s.a.mark(function t(e,a,i){var n,o,r;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d(e,a);case 3:return n=t.sent,o=n.data,r=[],o.items.map(function(t){var e={};e.id=t.id,e.title=t.snippet.title,e.img=(t.snippet.thumbnails.standard||t.snippet.thumbnails.medium||t.snippet.thumbnails.high||t.snippet.thumbnails.default||t.snippet.thumbnails.low).url,e.rating=i.getters.getVideoRating(e.id),r.push(e)}),t.abrupt("return",r);case 10:return t.prev=10,t.t0=t.catch(0),console.error(t.t0),t.abrupt("return",[]);case 14:case"end":return t.stop()}},t,this,[[0,10]])})),function(t,e,a){return i.apply(this,arguments)});function d(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"RU";return l.a.get("https://www.googleapis.com/youtube/v3/videos?part=id,snippet&chart=mostPopular&maxResults=30&key="+t+"&regionCode="+e)}function p(t,e){return l.a.get("https://www.googleapis.com/youtube/v3/videos?part=snippet,contentDetails,statistics,topicDetails&key="+t+"&id="+e)}},C8XQ:function(t,e,a){"use strict";var i=a("Xxa5"),n=a.n(i),s=a("exGp"),o=a.n(s),r=a("/k1P"),c=a("mBd3");e.a={components:{Rating:c.a},data:function(){return{vCategory:"",vTag:"",videoShow:!1}},asyncData:function(){var t=o()(n.a.mark(function t(e){var a,i,s,o,c,l;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=e.params.id,t.next=4,Object(r.a)(e.env.youtubeApiKey,a);case 4:return i=t.sent,s=i.data,o=s.items[0],c=[],o.topicDetails.topicCategories&&(c=o.topicDetails.topicCategories.map(function(t){return new Object({name:t.slice(t.lastIndexOf("/")+1).replace("_"," "),url:t})})),l=o.snippet.tags||[],t.abrupt("return",{video:{id:o.id,title:o.snippet.title,channel:{title:o.snippet.channelTitle,id:o.snippet.channelId},date:o.snippet.publishedAt,desc:o.snippet.description,img:(o.snippet.thumbnails.standard||o.snippet.thumbnails.medium||o.snippet.thumbnails.high||o.snippet.thumbnails.default||o.snippet.thumbnails.low).url,tags:l,duration:o.contentDetails.duration,views:o.statistics.viewCount,likes:o.statistics.likeCount,dislikes:o.statistics.dislikeCount,comments:o.statistics.commentCount,category:c},vCategory:c[0]?c[0].url:"",vTag:l[0]||""});case 13:return t.prev=13,t.t0=t.catch(0),console.error(t.t0),t.abrupt("return",{video:{}});case 17:case"end":return t.stop()}},t,this,[[0,13]])}));return function(e){return t.apply(this,arguments)}}(),methods:{makeChannelUrl:function(t){return"https://www.youtube.com/channel/"+t},makeVideoUrl:function(t){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?"https://www.youtube.com/embed/"+t:"https://www.youtube.com/watch?v="+t}},filters:{dateFormat:function(t){var e=new Date(t);return e.getFullYear()+"-"+(e.getMonth()<9?"0"+(e.getMonth()+1):e.getMonth()+1)+"-"+(e.getDate()<10?"0"+e.getDate():e.getDate())+" "+(e.getHours()<10?"0"+e.getHours():e.getHours())+":"+(e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes())},durationFormat:function(t){if(!t)return"";var e=t.match(/PT(\d+H)?(\d+M)?(\d+S)?/);e=e.slice(1).map(function(t){return null!=t?t.replace(/\D/,""):null});var a=parseInt(e[0])||0,i=parseInt(e[1])||0,n=parseInt(e[2])||0;return a<10&&(a="0"+a),i<10&&(i="0"+i),n<10&&(n="0"+n),a+":"+i+":"+n},integerFormat:function(t){if(!t)return"";return(t=t.trim()).length<4?t:t.trim().replace(/\d{3}(?=(\d{3})*$)/g,function(t){return" "+t})}}}},E8vN:function(t,e,a){"use strict";e.a={props:{min:{type:Number,validator:function(t){return t>=0&&t<=10},default:1},max:{type:Number,validator:function(t){return t>=2&&t<=10},default:5},videoId:{type:String,required:!0}},data:function(){return{vv:0,val:0}},beforeMount:function(){this.vv=this.val=this.$store.getters.getVideoRating(this.videoId)},watch:{val:function(t,e){this.$store.commit("setVideoRating",{id:this.videoId,rating:t})}}}},NV5K:function(t,e,a){var i=a("Uo5p");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("rjj0")("87b076fc",i,!1,{sourceMap:!1})},R6bw:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",[a("v-flex",{attrs:{xs12:""}},[a("v-card",[a("v-card-media",{staticClass:"video-image white--text",attrs:{src:t.video.img}},[a("v-container",{attrs:{"fill-height":"",fluid:""}},[a("v-layout",{attrs:{"fill-height":""}},[a("v-flex",{attrs:{xs12:"","align-end":"",flexbox:""}},[a("span",{staticClass:"video-title display-1"},[t._v(t._s(t.video.title))])])],1)],1)],1),a("v-card-title",[a("div",{staticClass:"video-info"},[a("div",{staticClass:"video-details d-flex justify-space-between"},[a("v-tooltip",{attrs:{bottom:""}},[a("span",{staticClass:"grey--text",attrs:{slot:"activator"},slot:"activator"},[a("v-icon",[t._v("date_range")]),t._v("  "+t._s(t._f("dateFormat")(t.video.date)))],1),a("span",[t._v("дата загрузки")])]),a("v-tooltip",{attrs:{bottom:""}},[a("span",{staticClass:"grey--text",attrs:{slot:"activator"},slot:"activator"},[a("v-icon",[t._v("update")]),t._v("  "+t._s(t._f("durationFormat")(t.video.duration)))],1),a("span",[t._v("длительность")])]),a("v-tooltip",{attrs:{bottom:""}},[a("span",{staticClass:"grey--text",attrs:{slot:"activator"},slot:"activator"},[a("v-icon",[t._v("visibility")]),t._v("  "+t._s(t._f("integerFormat")(t.video.views)))],1),a("span",[t._v("просмотров")])]),a("v-tooltip",{attrs:{bottom:""}},[a("span",{staticClass:"grey--text",attrs:{slot:"activator"},slot:"activator"},[a("v-icon",[t._v("mood")]),t._v("  "+t._s(t._f("integerFormat")(t.video.likes)))],1),a("span",[t._v("лайков")])]),a("v-tooltip",{attrs:{bottom:""}},[a("span",{staticClass:"grey--text",attrs:{slot:"activator"},slot:"activator"},[a("v-icon",[t._v("mood_bad")]),t._v("  "+t._s(t._f("integerFormat")(t.video.dislikes)))],1),a("span",[t._v("дизлайков")])]),a("v-tooltip",{attrs:{bottom:""}},[a("span",{staticClass:"grey--text",attrs:{slot:"activator"},slot:"activator"},[a("v-icon",[t._v("comment")]),t._v("  "+t._s(t._f("integerFormat")(t.video.comments)))],1),a("span",[t._v("комментариев")])])],1),a("span",[t._v("Рейтинг:\n            "),a("Rating",{attrs:{min:1,max:5,"video-id":t.video.id}})],1),a("br"),a("br"),a("span",[t._v("Канал: "),a("a",{attrs:{href:t.makeChannelUrl(t.video.channel.id),target:"_blank"}},[t._v(t._s(t.video.channel.title))])]),a("br"),a("br"),a("v-layout",[a("v-flex",{attrs:{xs10:""}},[a("v-select",{attrs:{items:t.video.category,"item-text":"name","item-value":"url",label:"Категории",autocomplete:""},model:{value:t.vCategory,callback:function(e){t.vCategory=e},expression:"vCategory"}})],1),a("v-flex",{attrs:{xs2:""}},[a("v-btn",{attrs:{flat:"",href:t.vCategory,target:"_blank"}},[t._v("Подробнее")])],1)],1),a("v-layout",[a("v-flex",[a("v-select",{attrs:{items:t.video.tags,label:"Теги",autocomplete:""},model:{value:t.vTag,callback:function(e){t.vTag=e},expression:"vTag"}})],1)],1),a("v-expansion-panel",{staticClass:"description"},[a("v-expansion-panel-content",[a("div",{attrs:{slot:"header"},slot:"header"},[t._v("Описание")]),a("v-card",[a("v-card-text",[t._v("\n                  "+t._s(t.video.desc)+"\n                ")])],1)],1)],1)],1)]),a("v-card-actions",[a("v-btn",{attrs:{flat:"",color:"grey",to:"/",nuxt:""}},[a("v-icon",[t._v("arrow_back_ios")]),t._v(" Назад")],1),a("v-dialog",{attrs:{persistent:"","max-width":"70%"},model:{value:t.videoShow,callback:function(e){t.videoShow=e},expression:"videoShow"}},[a("v-btn",{attrs:{slot:"activator",flat:"",color:"info"},slot:"activator"},[a("v-icon",[t._v("slideshow")]),t._v(" Просмотреть видео")],1),a("v-card",[a("v-card-title",{staticClass:"subheading"},[t._v(t._s(t.video.title))]),a("v-card-media",[a("iframe",{staticClass:"player-frame",attrs:{src:t.makeVideoUrl(t.video.id,!0)}})]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{flat:"",color:"info"},nativeOn:{click:function(e){t.videoShow=!1}}},[t._v("Закрыть")]),a("v-spacer")],1)],1)],1),a("v-spacer"),a("v-btn",{attrs:{flat:"",color:"grey",href:t.makeVideoUrl(t.video.id),target:"_blank"}},[a("v-icon",[t._v("open_in_new")]),t._v(" Открыть в ютубе")],1)],1)],1)],1)],1)};i._withStripped=!0;var n={render:i,staticRenderFns:[]};e.a=n},Uo5p:function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,".video-image[data-v-0cc4d944]{height:350px!important}.video-title[data-v-0cc4d944]{text-shadow:1px 1px 1px #000,2px 2px 1px #000}.video-info[data-v-0cc4d944]{width:100%}.video-details[data-v-0cc4d944]{margin-bottom:20px;padding:0 10px;background:#fafafa;text-align:center}.description[data-v-0cc4d944]{border:1px solid #eaeaea;-webkit-box-shadow:none;box-shadow:none;white-space:pre-wrap}.player-frame[data-v-0cc4d944]{display:block;margin:0 auto;width:90%;height:400px}",""])},l0VR:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("C8XQ"),n=a("R6bw"),s=!1;var o=function(t){s||a("NV5K")},r=a("VU/8")(i.a,n.a,!1,o,"data-v-0cc4d944",null);r.options.__file="pages\\video\\_id\\tmp.vue",e.default=r.exports},mBd3:function(t,e,a){"use strict";var i=a("E8vN"),n=a("pfLJ"),s=!1;var o=function(t){s||a("tmYf")},r=a("VU/8")(i.a,n.a,!1,o,"data-v-4d91e425",null);r.options.__file="components\\Rating.vue",e.a=r.exports},pfLJ:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"stars title amber--text",on:{mouseout:function(e){t.vv=t.val}}},t._l(t.max,function(e){return a("span",{key:e,staticClass:"star"},[a("span",{on:{mouseover:function(a){t.vv=e>=t.min?e:t.min},click:function(a){t.val=e>=t.min?e:t.min}}},[e<=t.vv?a("span",[t._v("★")]):a("span",[t._v("☆")])])])}))};i._withStripped=!0;var n={render:i,staticRenderFns:[]};e.a=n},piSA:function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,".stars[data-v-4d91e425]{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;width:110px;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-ms-flex-align:center;align-items:center;vertical-align:middle;text-shadow:-1px 0 #000,0 1px #000,1px 0 #000,0 -1px #000}.stars[data-v-4d91e425]:hover{cursor:pointer}.star[data-v-4d91e425]{height:20px;width:22px;text-align:center;-webkit-transition:font-size .15s,color .6s;transition:font-size .15s,color .6s}.star[data-v-4d91e425]:hover{font-size:1.4em!important;color:#fff!important}",""])},tmYf:function(t,e,a){var i=a("piSA");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("rjj0")("38e1f5a4",i,!1,{sourceMap:!1})}});